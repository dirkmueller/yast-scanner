/**
 * File:
 *   ui_test.ycp
 *
 * Call:
 *  /sbin/yast2 ui_test.ycp 'ScannerStartDialog()'
 *
 * Authors:
 *   Gabriele Strattner <gs@suse.de>
 *
 * $Id$
 *
 */

{

  include "wizard/sequencer.ycp";
  include "ui/common_popups.ycp";
  include "ui/common_messages.ycp";

  import "Wizard";
  
  include "scanner/scanner_functions.ycp";

  include "scanner/scanner_start.ycp";
  include "scanner/scanner_new.ycp";
  include "scanner/scanner_overview.ycp";
  include "scanner/scanner_install.ycp";
  include "scanner/scanner_manual.ycp";
  include "scanner/scanner_scsi.ycp";
  include "scanner/scanner_usb.ycp";
  include "scanner/scanner_.ycp";

  map user_settings = $[];
  list scanner_info = [$["bus":"USB",
			"class_id":268,
			"device":"Perfection 640",
			"device_id":196876,
			"resource":$["baud":[$["speed":1500000]]],
			"rev":"0.01", "sub_class_id":0,
			"sub_device":"Perfection640  ",
			"sub_vendor":"EPSON",
			"unique_key":"PTVH.9Hr5DGWrbRF",
			"vendor":"Epson",
			"vendor_id":197816]];
  
  user_settings = add( user_settings, "test_mode", true ); 
  user_settings = add( user_settings, "scannerInfo", scanner_info);

  term function = `Empty();

  Wizard::CreateDialog();

  if ( size(WFM::Args()) != 0 )
  {
      function = WFM::Args(0);
  }
  
  eval(function);

  UI(`UserInput());

  UI(`CloseDialog());   
}
